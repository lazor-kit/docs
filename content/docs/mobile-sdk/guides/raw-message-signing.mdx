---
title: Raw Message Signing
description: How to sign arbitrary strings using WebAuthn.
---

# Raw Message Signing

The LazorKit adapter allows you to sign arbitrary strings using the user's Passkey. This is useful for authentication challenges, verifying ownership, or other off-chain interactions.

## Usage

To sign a message, simply pass a Base64-encoded string to `signMessage`.

```typescript
import { useLazorWallet } from '@lazorkit/wallet-mobile-adapter';

function SignComponent() {
  const { signMessage } = useLazorWallet();

  const handleSign = async () => {
    // 1. Prepare your message (Base64 encoded)
    const message = "SGVsbG8gV29ybGQ="; // "Hello World"

    // 2. Sign
    const result = await signMessage(message, {
      redirectUrl: 'your-app://callback',
    });

    // 3. Handle Result
    if (typeof result !== 'string') {
      console.log('Signature:', result.signature);
      console.log('Client Data:', result.clientDataJsonBase64);
      console.log('Authenticator Data:', result.authenticatorDataBase64);
    }
  };

  return <Button onPress={handleSign} title="Sign Message" />;
}
```

## Verification (Backend)

To verify the signature on your backend:

1.  **Decode** the `clientDataJsonBase64` and verify that the `challenge` field matches your original message.
2.  **Hash** the `clientDataJsonBase64` using SHA-256.
3.  **Concatenate** `authenticatorDataBase64` (decoded) + `clientDataHash`.
4.  **Verify** the signature against the concatenated data using the user's public key (secp256r1).

```typescript
// Node.js Example
import crypto from 'crypto';

function verify(publicKeyPem, originalMessage, signature, clientData, authData) {
  // ... implementation details (see Walkthrough artifact)
}
```
